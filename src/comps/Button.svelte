<script lang="ts">
	import { createEventDispatcher } from 'svelte';

	export let text: string = 'Empty Button';
	export let type: 'primary' | 'secondary' | 'red' = 'primary';
	export let icon: 'discord' | 'github' | 'none' | 'youtube' = 'none';
	let clazz: string = '';
	export { clazz as class };

	const buttonCommonClasses = [
		clazz,
		'relative',
		'focus:ring',
		'transform',
		'hover:scale-105',
		'transition-transform',
		'duration-300',
		'rounded-md',
		'px-[24px]',
		'py-[12px]',
		'border-[1px]',
		'flex',
		'items-center',
		'justify-center',
		'space-x-[12px]'
	].join(' ');

	const dispatch = createEventDispatcher();

	function submitButton() {
		dispatch('click');
	}
</script>

<button
	aria-label={text}
	on:click={submitButton}
	class={type === 'primary'
		? buttonCommonClasses + ' focus:ring-gray-600 border-primary-300 bg-primary-200 text-white'
		: type === 'secondary'
		? buttonCommonClasses + ' focus:ring-gray-600 border-neutral-150 bg-neutral-300 text-white'
		: buttonCommonClasses + ' focus:ring-gray-100 border-white text-[#F02E65]'}
>
	{#if icon === 'discord'}
		<svg width="20" height="24" viewBox="0 0 20 24" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path
				d="M17.6571 0.497803H2.34286C1.05143 0.497803 0 1.55823 0 2.87223V18.4559C0 19.7699 1.05143 20.8303 2.34286 20.8303H15.3029L14.6971 18.6979L16.16 20.0695L17.5429 21.3605L20 23.5505V2.87223C20 1.55823 18.9486 0.497803 17.6571 0.497803ZM13.2457 15.5512C13.2457 15.5512 12.8343 15.0556 12.4914 14.6176C13.9886 14.1911 14.56 13.2459 14.56 13.2459C14.0914 13.5572 13.6457 13.7762 13.2457 13.926C12.6743 14.1681 12.1257 14.3294 11.5886 14.4216C10.4914 14.6291 9.48571 14.5715 8.62857 14.4101C7.97714 14.2833 7.41714 14.0989 6.94857 13.9145C6.68571 13.8107 6.4 13.6839 6.11429 13.5226C6.08 13.4995 6.04571 13.488 6.01143 13.4649C5.98857 13.4534 5.97714 13.4419 5.96571 13.4304C5.76 13.3151 5.64571 13.2344 5.64571 13.2344C5.64571 13.2344 6.19429 14.1565 7.64571 14.5945C7.30286 15.0325 6.88 15.5512 6.88 15.5512C4.35429 15.4705 3.39429 13.7992 3.39429 13.7992C3.39429 10.0877 5.04 7.07935 5.04 7.07935C6.68571 5.8345 8.25143 5.86908 8.25143 5.86908L8.36572 6.0074C6.30857 6.60677 5.36 7.51735 5.36 7.51735C5.36 7.51735 5.61143 7.37903 6.03429 7.18309C7.25714 6.64135 8.22857 6.4915 8.62857 6.45693C8.69714 6.4454 8.75429 6.43387 8.82286 6.43387C9.52 6.34166 10.3086 6.31861 11.1314 6.41082C12.2171 6.53761 13.3829 6.86035 14.5714 7.51735C14.5714 7.51735 13.6686 6.65287 11.7257 6.0535L11.8857 5.86908C11.8857 5.86908 13.4514 5.8345 15.0971 7.07935C15.0971 7.07935 16.7429 10.0877 16.7429 13.7992C16.7429 13.7992 15.7714 15.4705 13.2457 15.5512ZM7.93143 10.1684C7.28 10.1684 6.76571 10.7447 6.76571 11.4478C6.76571 12.1509 7.29143 12.7273 7.93143 12.7273C8.58286 12.7273 9.09714 12.1509 9.09714 11.4478C9.10857 10.7447 8.58286 10.1684 7.93143 10.1684ZM12.1029 10.1684C11.4514 10.1684 10.9371 10.7447 10.9371 11.4478C10.9371 12.1509 11.4629 12.7273 12.1029 12.7273C12.7543 12.7273 13.2686 12.1509 13.2686 11.4478C13.2686 10.7447 12.7543 10.1684 12.1029 10.1684Z"
				fill="currentColor"
			/>
		</svg>
	{/if}

	{#if icon === 'github'}
		<svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path
				d="M12 0.483887C5.374 0.483887 0 5.93117 0 12.6498C0 18.0251 3.438 22.5853 8.207 24.1942C8.806 24.3067 9 23.9296 9 23.6092V21.3443C5.662 22.0804 4.967 19.9088 4.967 19.9088C4.421 18.5026 3.634 18.1285 3.634 18.1285C2.545 17.3732 3.717 17.3894 3.717 17.3894C4.922 17.4746 5.556 18.6435 5.556 18.6435C6.626 20.5029 8.363 19.9655 9.048 19.6543C9.155 18.8686 9.466 18.3313 9.81 18.0281C7.145 17.7189 4.343 16.6757 4.343 12.0151C4.343 10.686 4.812 9.60121 5.579 8.7496C5.455 8.44241 5.044 7.20453 5.696 5.52969C5.696 5.52969 6.704 5.20324 8.997 6.77669C9.954 6.50702 10.98 6.37218 12 6.36711C13.02 6.37218 14.047 6.50702 15.006 6.77669C17.297 5.20324 18.303 5.52969 18.303 5.52969C18.956 7.20554 18.545 8.44342 18.421 8.7496C19.191 9.60121 19.656 10.687 19.656 12.0151C19.656 16.6878 16.849 17.7169 14.177 18.018C14.607 18.3951 15 19.1352 15 20.2707V23.6092C15 23.9326 15.192 24.3128 15.801 24.1932C20.566 22.5822 24 18.0231 24 12.6498C24 5.93117 18.627 0.483887 12 0.483887Z"
				fill="currentColor"
			/>
		</svg>
	{/if}

	{#if icon === 'youtube'}
		<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
			><path
				fill="currentColor"
				d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"
			/></svg
		>
	{/if}

	<span>{text}</span>

	<slot />
</button>
